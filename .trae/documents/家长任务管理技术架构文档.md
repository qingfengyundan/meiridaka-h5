# å®¶é•¿ä»»åŠ¡ç®¡ç†æŠ€æœ¯æ¶æ„æ–‡æ¡£

## 1. æ¶æ„è®¾è®¡

```mermaid
graph TD
    A[ç”¨æˆ·æµè§ˆå™¨] --> B[Reactå‰ç«¯åº”ç”¨]
    B --> C[æœ¬åœ°å­˜å‚¨ LocalStorage]
    B --> D[ä»»åŠ¡ç®¡ç†æ¨¡å—]
    B --> E[æƒé™éªŒè¯æ¨¡å—]
    
    subgraph "å‰ç«¯å±‚"
        B
        D
        E
    end
    
    subgraph "æ•°æ®å±‚"
        C
    end
    
    D --> F[ä»»åŠ¡CRUDæ“ä½œ]
    D --> G[ä»»åŠ¡åŒæ­¥æœºåˆ¶]
    E --> H[å®¶é•¿æ¨¡å¼éªŒè¯]
```

## 2. æŠ€æœ¯æè¿°

- **å‰ç«¯**ï¼šåŸç”Ÿ HTML5 + CSS3 + JavaScript ES6+
- **æ•°æ®å­˜å‚¨**ï¼šLocalStorageï¼ˆæµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼‰
- **UIæ¡†æ¶**ï¼šæ— å¤–éƒ¨ä¾èµ–ï¼Œä½¿ç”¨åŸç”ŸDOMæ“ä½œ
- **çŠ¶æ€ç®¡ç†**ï¼šåŸºäºå…¨å±€å˜é‡å’ŒLocalStorageçš„ç®€å•çŠ¶æ€ç®¡ç†

## 3. è·¯ç”±å®šä¹‰

| è·¯ç”± | ç”¨é€” |
|------|------|
| /home | ä¸»é¡µï¼Œæ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨å’Œå¯¼èˆª |
| /parent | å®¶é•¿ç®¡ç†ä¸­å¿ƒï¼ŒåŒ…å«ä»»åŠ¡ç®¡ç†åŠŸèƒ½ |
| /tasks | å­¦ç”Ÿæ¨¡å¼ä»»åŠ¡é¡µé¢ |
| /profile | ä¸ªäººä¸­å¿ƒé¡µé¢ï¼ŒåŒ…å«æ¨¡å¼åˆ‡æ¢ |

## 4. APIå®šä¹‰

### 4.1 æ ¸å¿ƒæ•°æ®ç»“æ„

**ä»»åŠ¡å¯¹è±¡ (Task)**
```javascript
{
    id: string,              // ä»»åŠ¡å”¯ä¸€æ ‡è¯†
    name: string,            // ä»»åŠ¡åç§°
    type: string,            // ä»»åŠ¡ç±»å‹ï¼š'school', 'home', 'temp'
    points: number,          // ç§¯åˆ†å¥–åŠ± (1-50)
    completed: boolean,      // å®ŒæˆçŠ¶æ€
    createdBy: string,       // åˆ›å»ºè€…ï¼š'parent' æˆ– 'student'
    createdAt: string,       // åˆ›å»ºæ—¶é—´
    priority: string,        // ä¼˜å…ˆçº§ï¼š'low', 'medium', 'high'
    description: string      // ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼‰
}
```

### 4.2 æ ¸å¿ƒå‡½æ•°æ¥å£

**ä»»åŠ¡ç®¡ç†å‡½æ•°**
```javascript
// è·å–æ‰€æœ‰ä»»åŠ¡
function getAllTasks(): Task[]

// æ·»åŠ æ–°ä»»åŠ¡
function addTask(task: Task): boolean

// æ›´æ–°ä»»åŠ¡
function updateTask(taskId: string, updates: Partial<Task>): boolean

// åˆ é™¤ä»»åŠ¡
function deleteTask(taskId: string): boolean

// è·å–ä»»åŠ¡ç»Ÿè®¡
function getTaskStats(): {
    total: number,
    completed: number,
    pending: number,
    totalPoints: number
}
```

**UIæ“ä½œå‡½æ•°**
```javascript
// æ˜¾ç¤ºä»»åŠ¡ç®¡ç†ç•Œé¢
function showTaskManagement(): void

// æ˜¾ç¤ºä»»åŠ¡ç¼–è¾‘å¼¹çª—
function showEditTaskModal(taskId: string): void

// æ˜¾ç¤ºæ·»åŠ ä»»åŠ¡å¼¹çª—
function showAddTaskModal(): void

// æ˜¾ç¤ºåˆ é™¤ç¡®è®¤å¼¹çª—
function showDeleteConfirmModal(taskId: string): void

// åˆ·æ–°ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤º
function refreshTaskList(): void
```

## 5. æ•°æ®æ¨¡å‹

### 5.1 æ•°æ®æ¨¡å‹å®šä¹‰

```mermaid
erDiagram
    TASK {
        string id PK
        string name
        string type
        number points
        boolean completed
        string createdBy
        string createdAt
        string priority
        string description
    }
    
    USER_SETTINGS {
        string currentMode
        string parentPassword
        number totalPoints
        array completedTasks
    }
    
    TASK ||--o{ USER_SETTINGS : tracks
```

### 5.2 æ•°æ®å®šä¹‰è¯­è¨€

**LocalStorage æ•°æ®ç»“æ„**
```javascript
// ä»»åŠ¡æ•°æ®å­˜å‚¨
localStorage.setItem('tasks', JSON.stringify([
    {
        id: 'task_001',
        name: 'å®Œæˆæ•°å­¦ä½œä¸š',
        type: 'school',
        points: 10,
        completed: false,
        createdBy: 'parent',
        createdAt: '2024-01-15T10:00:00Z',
        priority: 'high',
        description: 'å®Œæˆç¬¬3ç« ç»ƒä¹ é¢˜'
    },
    {
        id: 'task_002',
        name: 'æ•´ç†æˆ¿é—´',
        type: 'home',
        points: 15,
        completed: true,
        createdBy: 'parent',
        createdAt: '2024-01-15T09:00:00Z',
        priority: 'medium',
        description: 'æ•´ç†ä¹¦æ¡Œå’Œè¡£æŸœ'
    }
]));

// ç”¨æˆ·è®¾ç½®å­˜å‚¨
localStorage.setItem('userSettings', JSON.stringify({
    currentMode: 'student',
    parentPassword: 'parent123',
    totalPoints: 150,
    completedTasks: ['task_002'],
    lastLoginDate: '2024-01-15'
}));

// ä»»åŠ¡ç±»å‹é…ç½®
const TASK_TYPES = {
    school: { name: 'å­¦æ ¡ä»»åŠ¡', icon: 'ğŸ“š', color: '#007bff' },
    home: { name: 'å®¶åº­ä»»åŠ¡', icon: 'ğŸ ', color: '#28a745' },
    temp: { name: 'ä¸´æ—¶ä»»åŠ¡', icon: 'âš¡', color: '#ffc107' }
};

// ä¼˜å…ˆçº§é…ç½®
const PRIORITY_LEVELS = {
    low: { name: 'ä½', color: '#6c757d' },
    medium: { name: 'ä¸­', color: '#ffc107' },
    high: { name: 'é«˜', color: '#dc3545' }
};
```

## 6. å®ç°è¦ç‚¹

### 6.1 å…³é”®æŠ€æœ¯å®ç°

1. **ä»»åŠ¡æ•°æ®åŒæ­¥**ï¼šç¡®ä¿å®¶é•¿æ¨¡å¼çš„ä¿®æ”¹èƒ½å®æ—¶åæ˜ åˆ°å­¦ç”Ÿæ¨¡å¼
2. **æƒé™æ§åˆ¶**ï¼šåªæœ‰åœ¨å®¶é•¿æ¨¡å¼ä¸‹æ‰èƒ½ç¼–è¾‘å’Œåˆ é™¤ä»»åŠ¡
3. **æ•°æ®éªŒè¯**ï¼šå¯¹ä»»åŠ¡åç§°ã€ç§¯åˆ†èŒƒå›´ç­‰è¿›è¡Œæœ‰æ•ˆæ€§éªŒè¯
4. **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›åŠ è½½çŠ¶æ€ã€æˆåŠŸæç¤ºã€é”™è¯¯å¤„ç†ç­‰åé¦ˆ

### 6.2 å®‰å…¨è€ƒè™‘

1. **è¾“å…¥éªŒè¯**ï¼šå¯¹æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯å’Œæ¸…ç†
2. **æƒé™éªŒè¯**ï¼šç¡®ä¿åªæœ‰é€šè¿‡å®¶é•¿å¯†ç éªŒè¯çš„ç”¨æˆ·æ‰èƒ½è¿›è¡Œç®¡ç†æ“ä½œ
3. **æ•°æ®å¤‡ä»½**ï¼šåœ¨é‡è¦æ“ä½œå‰åˆ›å»ºæ•°æ®å¤‡ä»½ï¼Œæ”¯æŒæ’¤é”€æ“ä½œ

### 6.3 æ€§èƒ½ä¼˜åŒ–

1. **æ‡’åŠ è½½**ï¼šä»»åŠ¡åˆ—è¡¨æŒ‰éœ€åŠ è½½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šæ•°æ®
2. **ç¼“å­˜æœºåˆ¶**ï¼šåˆç†ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œå‡å°‘é‡å¤çš„DOMæ“ä½œ
3. **é˜²æŠ–å¤„ç†**ï¼šå¯¹æœç´¢å’Œç­›é€‰åŠŸèƒ½è¿›è¡Œé˜²æŠ–å¤„ç†